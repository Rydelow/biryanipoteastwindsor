!function(r){"use strict";r(document).ready(function(){var e,d;function t(e){var t=r(e.target),o="name";-1!==e.target.id.indexOf(o,e.target.id.length-o.length)&&t.parents(".cmb-row.cmb-repeatable-grouping").find(".cmb-group-title").text(t.val())}function p(e){e=e.split(":");return 60*Number(e[0])+Number(e[1])}r("#toplevel_page_exwoofood_options").appendTo("#menu-posts-product > ul"),(r("#toplevel_page_exwoofood_options > a").hasClass("current")||r("#toplevel_page_exwoofood_advanced_options > a").hasClass("current")||r("#toplevel_page_exwoofood_shpping_options > a").hasClass("current")||r("#toplevel_page_exwoofood_custom_code_options > a").hasClass("current")||r("#toplevel_page_exwoofood_js_css_file_options > a").hasClass("current"))&&(r("#adminmenu > li#menu-posts-product").removeClass("wp-not-current-submenu"),r("#adminmenu > li#menu-posts-product").addClass("wp-has-current-submenu"),r("#toplevel_page_exwoofood_options").addClass("current")),0<jQuery('.post-type-exwoofood_scbd .cmb2-metabox select[name="sc_type"]').length&&(""==(e=jQuery('.post-type-exwoofood_scbd .cmb2-metabox select[name="sc_type"]').val())&&(e="grid"),"list"==e?(jQuery(".post-type-exwoofood_scbd select#style option").attr("disabled","disabled"),jQuery('.post-type-exwoofood_scbd select#style option[value="1"], .post-type-exwoofood_scbd select#style option[value="2"], .post-type-exwoofood_scbd select#style option[value="3"]').removeAttr("disabled")):"table"==e?(jQuery(".post-type-exwoofood_scbd select#style option").attr("disabled","disabled"),jQuery('.post-type-exwoofood_scbd select#style option[value="1"]').removeAttr("disabled")):jQuery(".post-type-exwoofood_scbd select#style option").removeAttr("disabled","disabled"),r("body").removeClass(function(e,t){return(t.match(/(^|\s)ex-layout\S+/g)||[]).join(" ")}),r("body").addClass("ex-layout-"+e)),jQuery('.post-type-exwoofood_scbd .cmb2-metabox select[name="sc_type"]').on("change",function(){var e=r(this).val();""==e&&(e="grid"),"list"==e?(jQuery(".post-type-exwoofood_scbd select#style option").attr("disabled","disabled"),jQuery('.post-type-exwoofood_scbd select#style option[value="1"], .post-type-exwoofood_scbd select#style option[value="2"], .post-type-exwoofood_scbd select#style option[value="3"]').removeAttr("disabled")):"table"==e?(jQuery(".post-type-exwoofood_scbd select#style option").attr("disabled","disabled"),jQuery('.post-type-exwoofood_scbd select#style option[value="1"]').removeAttr("disabled")):jQuery(".post-type-exwoofood_scbd select#style option").removeAttr("disabled","disabled"),r("body").removeClass(function(e,t){return(t.match(/(^|\s)ex-layout\S+/g)||[]).join(" ")}),r("body").addClass("ex-layout-"+e)}),jQuery('input[name="exwoofood_order"]').on("change",function(){var e=r(this),e={action:"exwoofood_change_sort_food",post_id:e.attr("data-id"),value:e.val()};r.ajax({type:"post",url:exwoofood_ajax.ajaxurl,dataType:"html",data:e,success:function(e){return!0}})}),jQuery("#exwoofood_addition_options,#exwf_menubydate,#exwoofood_custom_data").on("cmb2_add_row cmb2_shift_rows_complete",t).on("keyup",t),(d=jQuery("#exwoofood_addition_options,#exwoofood_custom_data,#exwf_menubydate")).find(".cmb-group-title").each(function(){var e,t=r(this),o=t.next().find('[id$="_name"]').val();o||(o=d.find("[data-grouptitle]").data("grouptitle"))&&(e=t.parents("[data-iterator]").data("iterator"),o=o.replace("{#}",e+1)),o&&t.text(o)}),jQuery('.cmb2-id-exorder-store input[name="exorder_store"]').on("change paste keyup",function(e){e.preventDefault();e={action:"exwoofood_admin_show_store",store_id:r(this).val()};r.ajax({type:"post",url:exwoofood_ajax.ajaxurl,dataType:"json",data:e,success:function(e){0!=e&&(r(".cmb2-id-exorder-store .cmb2-metabox-description").empty(),r(".cmb2-id-exorder-store .cmb2-metabox-description").append(e.store_name))}})}),jQuery('input[name="exfd_sort_menu"]').on("change",function(){var e=r(this),e={action:"exfd_change_order_menu",post_id:e.attr("data-id"),value:e.val()};r.ajax({type:"post",url:exwoofood_ajax.ajaxurl,dataType:"html",data:e,success:function(e){return!0}})}),jQuery("body").on("click",".exwf-generatesl a",function(){var e=r(this),t=e.closest(".cmb-field-list").find(".sltime-fr input").val(),o=e.closest(".cmb-field-list").find(".sltime-to input").val(),d=e.closest(".cmb-field-list").find(".sltime-maxod input").val(),n=e.closest(".cmb-field-list").find(".sltime-minu input").val();if(""!=t&&""!=o)if(""==n){var i=e.closest(".cmb-field-list").find(".cmb-type-timedelivery .cmb-td .cmb-tbody > .cmb-row").length,a=e.closest(".cmb-field-list").find(".cmb-type-timedelivery .cmb-row.hidden").prev();2==i&&""==a.find(".exwf-open-time input").val()&&""==a.find(".exwf-close-time input").val()&&""==a.find(".exwf-max-order input").val()||(e.closest(".cmb-field-list").find(".cmb-type-timedelivery p.cmb-add-row button.cmb-add-row-button").trigger("click"),a=e.closest(".cmb-field-list").find(".cmb-type-timedelivery .cmb-row.hidden").prev()),a.find(".exwf-open-time input").val(t),a.find(".exwf-close-time input").val(o),a.find(".exwf-max-order input").val(d)}else if((t=p(t))<(o=p(o)))for(var s=t;s<o;s+=+n){var c=10<=s%60?s%60:"0"+s%60,l=Math.floor(s/60)+":"+c,c=10<=(s+ +n)%60?(s+ +n)%60:"0"+(s+ +n)%60,c=Math.floor((s+ +n)/60)+":"+c,i=e.closest(".cmb-field-list").find(".cmb-type-timedelivery .cmb-td .cmb-tbody > .cmb-row").length,a=e.closest(".cmb-field-list").find(".cmb-type-timedelivery .cmb-row.hidden").prev();2==i&&""==a.find(".exwf-open-time input").val()&&""==a.find(".exwf-close-time input").val()&&""==a.find(".exwf-max-order input").val()||(e.closest(".cmb-field-list").find(".cmb-type-timedelivery p.cmb-add-row button.cmb-add-row-button").trigger("click"),a=e.closest(".cmb-field-list").find(".cmb-type-timedelivery .cmb-row.hidden").prev()),a.find(".exwf-open-time input").val(l),a.find(".exwf-close-time input").val(c),a.find(".exwf-max-order input").val(d)}}),jQuery(".exwf-adm-odmethod select").on("change",function(){var e,t,o=r(this).val();"takeaway"==o?(e=r(this).attr("data-ttk"),t=r(this).attr("data-tttk"),r(".exwf-di-person").addClass("ex-hidden")):"dinein"==o?(e=r(this).attr("data-tdin"),t=r(this).attr("data-ttdin"),r(".exwf-di-person").removeClass("ex-hidden")):(e=r(this).attr("data-tdel"),t=r(this).attr("data-ttdel"),r(".exwf-di-person").addClass("ex-hidden")),r(".exwf-adm-oddate strong").text(e),r(".exwf-adm-odtime strong").text(t)}),jQuery("#exwf_menubydate").on("click",".cmb-add-row button",function(e){r(this).closest(".cmb-row").prev().find(".exwo-paste-mes").css("display","none"),r(this).closest(".cmb-row").prev().find(".exwo-paste-tt").css("display","block"),r(this).closest(".cmb-row").prev().find(".exwo-copy").addClass("disabled").css("opacity","0.5")}),jQuery("#exwf_menubydate").on("click",".exwo-copy.disabled",function(e){alert(r(this).attr("data-textdis"))}),jQuery("#exwf_menubydate").on("click",".exwo-copypre",function(){var e=r(this).closest(".cmb-repeatable-grouping"),t=e.prev();e.find(".exwf-mnt-st .cmb-td input").val(t.find(".exwf-mnt-ed .cmb-td input").val()),e.find(".exwf-mnt-ed .cmb-td input").val(t.find(".exwf-mnt-ed .cmb-td input").val()),e.find(".exwf-mnt-name .cmb-td input").val(t.find(".exwf-mnt-name .cmb-td input").val()),e.find(".exwf-mnt-max .cmb-td input").val(t.find(".exwf-mnt-max .cmb-td input").val()),e.find(".exwf-mnt-ids .cmb-td input").val(t.find(".exwf-mnt-ids .cmb-td input").val()),t.find('.exwf-mnt-cat .cmb-td input[type="checkbox"]:checked').each(function(){e.find('.exwf-mnt-cat .cmb-td input[value="'+r(this).val()+'"]').prop("checked",!0)}),t.find('.exwf-mnt-omt .cmb-td input[type="checkbox"]:checked').each(function(){e.find('.exwf-mnt-omt .cmb-td input[value="'+r(this).val()+'"]').prop("checked",!0)})}),jQuery("#exwf_menubydate").on("click",".exwo-copy",function(){var e=r("<input class='exwo-ctcopy'>"),t=r(this).closest(".cmb-repeatable-grouping");r("body").append(e),e.val(t.html()).select(),document.execCommand("copy"),e.remove()}),jQuery("#exwf_menubydate").on("click",".exwo-paste",function(e){r(this).find(".exwo-ctpaste").fadeIn(),r(this).find(".exwo-paste-tt").css("display","block"),r(this).find(".exwo-paste-mes").css("display","none")}),jQuery("#exwf_menubydate").length&&jQuery(document).on("click",function(e){0===r(e.target).closest(".exwo-paste").length&&r(".exwo-ctpaste").fadeOut()}),r("body").on("paste","#exwf_menubydate .exwo-ctpaste",function(){var t=r(this),o=t.closest(".cmb-repeatable-grouping");setTimeout(function(){var e=t.val(),e=r("<div>"+e+"<div>");o.find(".exwf-mnt-st .cmb-td input").val(e.find(".exwf-mnt-ed .cmb-td input").val()),o.find(".exwf-mnt-ed .cmb-td input").val(e.find(".exwf-mnt-ed .cmb-td input").val()),o.find(".exwf-mnt-name .cmb-td input").val(e.find(".exwf-mnt-name .cmb-td input").val()),o.find(".exwf-mnt-max .cmb-td input").val(e.find(".exwf-mnt-max .cmb-td input").val()),o.find(".exwf-mnt-ids .cmb-td input").val(e.find(".exwf-mnt-ids .cmb-td input").val()),e.find('.exwf-mnt-cat .cmb-td input[type="checkbox"]:checked').each(function(){o.find('.exwf-mnt-cat .cmb-td input[value="'+r(this).val()+'"]').prop("checked",!0)}),e.find('.exwf-mnt-omt .cmb-td input[type="checkbox"]:checked').each(function(){o.find('.exwf-mnt-omt .cmb-td input[value="'+r(this).val()+'"]').prop("checked",!0)}),t.closest(".exwo-paste").find(".exwo-paste-tt").css("display","none"),t.closest(".exwo-paste").find(".exwo-paste-mes").css("display","block"),t.val("").fadeOut()},100)}),jQuery("body").on("click",".exwf-disable-slot input.checkbox-dis",function(){this.checked?r(this).next().val("1"):r(this).next().val("")})})}(jQuery);